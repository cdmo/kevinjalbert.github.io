<!DOCTYPE html> <html lang=en> <head> <meta charset=utf-8> <meta http-equiv=X-UA-Compatible content='IE=edge;chrome=1'/> <title>Project-Wide Search and Replace with Vim — Kevin Jalbert</title> <link href="/stylesheets/app.css" rel=stylesheet /> <link rel=alternate type="application/atom+xml" title="Posts — Kevin Jalbert" href="/feed.xml"/> </head> <div class=container> <div class=header> <div class="col-xs-4 col-md-4 banner"> <a href="/">Kevin Jalbert</a> </div> <div class="col-xs-8 col-md-8 navigation"> <ul> <li><input placeholder=Search class="search ui-autocomplete-input ui-corner-all" autocomplete=on></li> <li><a href="/about/">About</a></li> <li><a href="/now/">Now</a></li> </ul> </div> </div> </div> <body> <div class="container content article"> <div class=row> <div class=col-md-12> <h1 class=article__title><p>Project-Wide Search and Replace with Vim</p> </h1> <div class="row article__meta-info"> <div class="col-xs-4 col-md-4"> <div class=article__date>January 28, 2016 </div> </div> <div class="col-xs-4 col-md-4"> <div class=article__read-time>1 min read</div> </div> <div class="col-xs-4 col-md-4"> <div class=article__comments> <a href="https://kevinjalbert.com/project-wide-search-and-replace-with-vim/#disqus_thread">0 Comments</a> </div> </div> </div> <div class="row article__meta-tags"> <div class="col-xs-12 col-md-12"> <div class=article__tags> <a href="/tags/vim/">vim</a> </div> </div> </div> <div class=article__separator></div> <p>There are many instances where you might want to perform a mass search and replace in Vim. The following are two commands that can help out with such a task.</p> <h2>List of Files</h2> <p>First you need to acquire a list of files in which you want to perform search and replaces on. The following Vim command <code>args</code> allows you to store a set of file names to act on later.</p> <pre class="highlight plaintext"><code>:args `&lt;command which generates a file list&gt;`
</code></pre> <p>Thus we can use the following to store a list of files which match the <code>&#39;Base::Lol::&#39; .</code> pattern.</p> <pre class="highlight plaintext"><code>:args `ag -l 'Base::Lol::' .`
</code></pre> <p>If matches were not found you&rsquo;ll get back something like the following <em>E79: Cannot expand wildcards</em>. If at least one match was found the current buffer will change to one of the found files.</p> <h2>Act on Files</h2> <p>Now that you have the list of files that you want to act on, we are ready to perform our search and replace on them. The following Vim command <code>argdo</code> allows us to specify a command to run against each of the files stored from the <code>args</code> command.</p> <pre class="highlight plaintext"><code>:argdo &lt;command to perform on each file stored from args&gt;
</code></pre> <p>In our running example we can replace every instance of the search we performed with a new string. We use the <code>%s</code> command to perform this substitution (<code>%s/&lt;original&gt;/&lt;new&gt;</code>). The <code>/g</code> specifies that this substitution should be applied globally to the file. Finally we have <code>| w</code> which saves the file after the substitution has been applied.</p> <pre class="highlight plaintext"><code>:argdo %s/Base::Lol::/Lol::Base::/g | w
</code></pre> <p>You are not only restricted to to using substitution here. Other resources indicated using macros.</p> <div id=disqus_thread></div> <script>
//<![CDATA[
                  var disqus_shortname = 'kevinjalbert';
          
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
//]]>
</script> <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> <a href="http://disqus.com" class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a> <script>
//<![CDATA[
    var disqus_shortname = 'kevinjalbert';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
//]]>
</script> </div> </div> </div> </body> <div class="col-md-12 footer__copywrite"> &copy; 2015 Kevin Jalbert </div> </html> <script src="/javascripts/app.js"></script> <script>!function(e,a,n,t,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=a.createElement(n),s=a.getElementsByTagName(n)[0],o.async=1,o.src=t,s.parentNode.insertBefore(o,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-16620161-5","kevinjalbert.com"),ga("send","pageview");</script>