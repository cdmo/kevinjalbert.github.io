<!DOCTYPE html> <html lang=en> <head> <meta charset=utf-8> <meta http-equiv=X-UA-Compatible content='IE=edge;chrome=1'/> <meta name=viewport content="width=device-width, initial-scale=1"> <script>addEventListener('error', window.__e=function f(e){f.q=f.q||[];f.q.push(e)});</script> <link rel=canonical href=https://kevinjalbert.com/project-wide-search-and-replace-with-vim/> <title>Project-Wide Search and Replace with Vim | Kevin Jalbert</title> <meta name=description content="There are many instances where you might want to perform a mass search and replace in Vim. The following are two commands that can help out with such a task."/> <meta name=keywords content=vim /> <meta name=datePublished content="2016-01-28 00:00:00 UTC"/> <meta property="og:article:published_time" content="2016-01-28 00:00:00 UTC"/> <meta name=author content="Kevin Jalbert"/> <meta property="og:article:author" content="2016-01-28 00:00:00 UTC"/> <meta name=url content="https://kevinjalbert.com/project-wide-search-and-replace-with-vim/"/> <meta property="og:url" content="https://kevinjalbert.com/project-wide-search-and-replace-with-vim/"/> <meta name=site content="Kevin Jalbert"/> <meta property="og:site_name" content="Kevin Jalbert"/> <meta name="twitter:card" content=summary_large_image /> <meta name="twitter:creator" content="@kevinjalbert"/> <meta name="twitter:description" content="There are many instances where you might want to perform a mass search and replace in Vim. The following are two commands that can help out with such a task."/> <meta name="twitter:image:src" content="https://kevinjalbert.com/images/kevin-jalbert.jpg"/> <meta name="twitter:site" content="Kevin Jalbert"/> <meta name="twitter:title" content="Project-Wide Search and Replace with Vim"/> <meta property="og:description" content="There are many instances where you might want to perform a mass search and replace in Vim. The following are two commands that can help out with such a task."/> <meta property="og:image" content="https://kevinjalbert.com/images/kevin-jalbert.jpg"/> <meta property="og:title" content="Project-Wide Search and Replace with Vim"/> <script type="application/ld+json">
    {
       "@context": "http://schema.org",
       "@type": "BlogPosting",
       "headline": "Project-Wide Search and Replace with Vim",
       "keywords": "vim",
       "url": "https://kevinjalbert.com/project-wide-search-and-replace-with-vim/",
       "datePublished": "2016-01-28 00:00:00 UTC",
       "dateModified": "2016-01-28 00:00:00 UTC",
       "author": {
         "@type": "Person",
         "name": "Kevin Jalbert",
         "sameAs": [
           "https://twitter.com/kevinjalbert",
           "https://github.com/kevinjalbert",
           "https://keybase.io/kevinjalbert",
           "https://reddit.com/user/kevinjalbert"
         ]
       },
       "mainEntityOfPage": {
          "@type": "WebPage",
         "@id": "https://kevinjalbert.com/project-wide-search-and-replace-with-vim/"
       }
    }
  </script> <link href="/stylesheets/app.css" rel=stylesheet /> <link rel=alternate type="application/atom+xml" title="Articles | Kevin Jalbert" href="/feed.xml"/> <script async src="/vendor/analytics/index.js"></script> <script async src="https://www.google-analytics.com/analytics.js"></script> </head> <div class=container> <div class=header> <div class="col-xs-12 col-sm-7 navigation"> <a class=banner href="/">Kevin Jalbert</a> <a href="/about/">About</a> <a href="/now/">Now</a> <a href="https://github.com/kevinjalbert/ama/blob/master/README.md">AMA</a> </div> <div class="col-xs-12 col-sm-5 search-component"> <input placeholder=Search class="search ui-autocomplete-input ui-corner-all" autocomplete=on> </div> </div> </div> <body> <div class="container content article"> <div class=row> <div class=col-md-12> <h1 class=article__title><p>Project-Wide Search and Replace with Vim</p> </h1> <div class="row article__meta-info"> <div class="col-xs-4 col-md-4"> <div class="article__date entry-date">January 28, 2016 </div> </div> <div class="col-xs-4 col-md-4"> <div class=article__read-time>1 min read</div> </div> <div class="col-xs-4 col-md-4"> <div class=article__comments> <a href="https://kevinjalbert.com/project-wide-search-and-replace-with-vim/#disqus_thread">0 Comments</a> </div> </div> </div> <div class="row article__meta-tags"> <div class="col-xs-12 col-md-12"> <div class=article__tags> <a href="/tags/vim/">vim</a> </div> </div> </div> <div class=article__separator></div> <div class=newsletter__form> <div class="panel panel-default"> <div class=panel-heading> <h4 class="panel-title accordion-toggle collapsed" data-toggle=collapse data-parent="#accordion" href="#newsletterFormCollapse"> Signup for my Newsletter </h4> </div> <div id=newsletterFormCollapse class="panel-collapse collapse"> <div class=panel-body> <link href="//cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css" rel=stylesheet> <style>
              #mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; width:100%;}
              /* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
                 We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
        </style> <div id=mc_embed_signup> <form action="//kevinjalbert.us14.list-manage.com/subscribe/post?u=fe02783eec556cfc2893fe174&amp;id=aecd14f8e6" method=post id=mc-embedded-subscribe-form name=mc-embedded-subscribe-form class=validate target=_blank novalidate> <div id=mc_embed_signup_scroll> <input type=email value="" name=EMAIL class=email id=mce-EMAIL placeholder="email address" required> <div style="position: absolute; left: -5000px;" aria-hidden=true><input name=b_fe02783eec556cfc2893fe174_aecd14f8e6 tabindex=-1 value=""></div> <div class=clear><input type=submit value=Subscribe name=subscribe id=mc-embedded-subscribe class=button></div> </div> </form> </div> </div> </div> </div> </div> <p>There are many instances where you might want to perform a mass search and replace in Vim. The following are two commands that can help out with such a task.</p> <h1>List of Files</h1> <p>First you need to acquire a list of files in which you want to perform search and replaces on. The following Vim command <code>args</code> allows you to store a set of file names to act on later.</p> <pre class="highlight plaintext"><code>:args `&lt;command which generates a file list&gt;`
</code></pre> <p>Thus we can use the following to store a list of files which match the <code>&#39;Base::Lol::&#39; .</code> pattern.</p> <pre class="highlight plaintext"><code>:args `ag -l 'Base::Lol::' .`
</code></pre> <p>If matches were not found you&rsquo;ll get back something like the following <em>E79: Cannot expand wildcards</em>. If at least one match was found the current buffer will change to one of the found files.</p> <h1>Act on Files</h1> <p>Now that you have the list of files that you want to act on, we are ready to perform our search and replace on them. The following Vim command <code>argdo</code> allows us to specify a command to run against each of the files stored from the <code>args</code> command.</p> <pre class="highlight plaintext"><code>:argdo &lt;command to perform on each file stored from args&gt;
</code></pre> <p>In our running example we can replace every instance of the search we performed with a new string. We use the <code>%s</code> command to perform this substitution (<code>%s/&lt;original&gt;/&lt;new&gt;</code>). The <code>/g</code> specifies that this substitution should be applied globally to the file. Finally we have <code>| w</code> which saves the file after the substitution has been applied.</p> <pre class="highlight plaintext"><code>:argdo %s/Base::Lol::/Lol::Base::/g | w
</code></pre> <p>You are not only restricted to to using substitution here. Other resources indicated using macros.</p> <div class=article__comments-button><button type=button class="btn btn-default show-comments">Click to Disqus</button></div> <div id=disqus_thread></div> </div> </div> </div> <script>
//<![CDATA[
    var disqus_shortname = 'kevinjalbert';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
//]]>
</script> </body> <div class="col-md-12 footer__copywrite"> &copy; 2018 Kevin Jalbert </div> </html> <script src="/javascripts/app.js"></script>